<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Learn You a Physics for Great Good!</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  </head>

  <body>
    <header>
      <a href="../index.html"><h1>Learn You a <span class="physics">Physics</span> for Great Good!</h1></a>
      <h1>&gt;&gt;&gt; WORK IN PROGRESS &lt;&lt;&lt;</h1>
      <h2>Calculus / Visualization</h2>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Calculus/VisVerApp.lhs">Calculus/VisVerApp.lhs</a>]</span>
        <span>Previous: <a href="../Calculus/Integral calculus.html">Integral calculus</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../Vectors/Vector.html">Vector</a></span>
      </nav>
    </header>

    <main>
      <div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">module</span> <span class="dt">Calculus.VisVerApp</span> <span class="kw">where</span>

<span class="kw">import </span><span class="dt">Calculus</span>

<span class="kw">import </span><span class="dt">Hatlab.Plot</span></code></pre></div>
<h2 id="plotting-with-hatlab">Plotting with Hatlab</h2>
<p>The brain likes seeing things. Let's give it a good looking reward!</p>
<p>We'll now make combined use of all of our nice functions. <code>simplify</code>, <code>derive</code>, <code>integrate</code>, <code>eval</code>, and <code>show</code>, all together: the most ambitious crossover event in history!</p>
<p>First, we create some function expressions ready to be <code>show</code>n and <code>eval</code>uated.</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell">f  <span class="fu">=</span> <span class="dt">Const</span> <span class="dv">3</span> <span class="fu">:*</span> <span class="dt">Id</span><span class="fu">:^</span><span class="dt">Const</span> <span class="dv">2</span>
f&#39; <span class="fu">=</span> simplify (derive f)
_F <span class="fu">=</span> simplify (integrate f <span class="dv">0</span>)</code></pre></div>
<p>Then, we define a helper function to plot a list of function expressions with Hatlab.</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">plotFunExprs ::</span> [<span class="dt">FunExpr</span>] <span class="ot">-&gt;</span> <span class="dt">IO</span> ()
plotFunExprs <span class="fu">=</span> plot <span class="fu">.</span> fmap (\f <span class="ot">-&gt;</span> <span class="dt">Fun</span> (eval f) (show f))</code></pre></div>
<p>Now try it for yourself! Let's see the fruits of our labour!</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> plotFunExprs [f, f&#39;, _F]</code></pre></div>
<p>For fun, we can also plot the same functions but using our approximative functions for differentiation and integration</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell">g x  <span class="fu">=</span> <span class="dv">3</span> <span class="fu">*</span> x<span class="fu">^</span><span class="dv">2</span>
g&#39; x <span class="fu">=</span> deriveApprox g <span class="fl">0.001</span> x
_G x <span class="fu">=</span> integrateApprox g <span class="fl">0.001</span> <span class="dv">0</span> x</code></pre></div>
<p>Then plot with</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">ghci<span class="fu">&gt;</span> plot [<span class="dt">Fun</span> g <span class="st">&quot;3x^2&quot;</span>, <span class="dt">Fun</span> g&#39; <span class="st">&quot;D(3x^2)&quot;</span>, <span class="dt">Fun</span> _G <span class="st">&quot;I(3x^2)&quot;</span>]</code></pre></div>
<p>Waddaya know! They look identical! I guess it just goes to show that a good approximation is often good enough.</p>

    </main>

    <footer>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Calculus/VisVerApp.lhs">Calculus/VisVerApp.lhs</a>]</span>
        <span>Previous: <a href="../Calculus/Integral calculus.html">Integral calculus</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../Vectors/Vector.html">Vector</a></span>
      </nav>
      Â© Kandidatboisen (2018), GPL
    </footer>
  </body>
</html>
