<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Learn You a Physics for Great Good!</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  </head>

  <body>
    <header>
      <a href="../index.html"><h1>Learn You a <span class="physics">Physics</span> for Great Good!</h1></a>
      <h1>&gt;&gt;&gt; WORK IN PROGRESS &lt;&lt;&lt;</h1>
      <h2>Examples / krafter på lådor</h2>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Examples/krafter_pa_lador.lhs">Examples/krafter_pa_lador.lhs</a>]</span>
        <span>Previous: <a href="../Examples/Gungbräda.html">Gungbräda</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../index.html">Table of contents</a></span>
      </nav>
    </header>

    <main>
      <h1 id="box-on-an-incline">Box on an incline</h1>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">import </span><span class="dt">Vector.Vector</span></code></pre></div>
<p>Alla vektorer är i Newton</p>
<div class="figure">
<img src="lutande_plan.png" alt="Lutande plan" class="float-img-left" />
<p class="caption">Lutande plan</p>
</div>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell">fg <span class="fu">=</span> <span class="dt">V2</span> <span class="dv">0</span> (<span class="fu">-</span><span class="dv">10</span>)
m <span class="fu">=</span> <span class="dv">2</span>
alpha <span class="fu">=</span> <span class="dv">30</span>

<span class="ot">enh_normal ::</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
enh_normal a <span class="fu">=</span> <span class="dt">V2</span> (cos a) (sin a)

<span class="ot">f_l_ ::</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
f_l_ fa a <span class="fu">=</span> scale ((magnitude fa) <span class="fu">*</span> (cos a)) (enh_normal (a<span class="fu">-</span>(pi<span class="fu">/</span><span class="dv">2</span>)))

<span class="ot">fn ::</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
fn fa a <span class="fu">=</span> negate (f_l_ fa a)</code></pre></div>
<p>Friktionsfritt plan:</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">fr ::</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
fr fa a <span class="fu">=</span> (fn fa a) <span class="fu">+</span> fa</code></pre></div>
<p>** Tester:** ------------</p>
<p>*Main&gt; fr (V2 0 10) 0</p>
<p>(0.0 x, 0.0 y)</p>
<p>Good: Inge lutning - står still.</p>
<p>*Main&gt; fr (V2 0 (-10)) 0</p>
<p>(0.0 x, -20.0 y)</p>
<p>Odd: Motsatt gravitation ger något underligt? Vi säger fortfarande att normalen är magnituden</p>
<p>*Main&gt; fr (V2 0 10) (pi/2)</p>
<p>(-6.123233995736766e-16 x, 10.0 y)</p>
<p>Good: 90* lutning - faller med G.</p>
<p>*Main&gt; fr (V2 0 10) (pi/3)</p>
<p>(-4.330127018922194 x, 7.499999999999999 y)</p>
<p>*Main&gt; fr (V2 0 10) (pi/4)</p>
<p>(-5.0 x, 4.999999999999999 y)</p>
<p>Good: 45* lutning - 5N både i x och y led. Pyth: 5^2 + 5^2 =/= 10^2</p>
<pre><code>                                                    det borde bli:  100 = a^2 + a^2
                                                                    50 = a^2
                                                                    5*sqrt(2) = a

                                                    och det är det ju. xD</code></pre>
<p>*Main&gt; fr (V2 0 10) (pi/6)</p>
<p>(-4.330127018922193 x, 2.499999999999999 y)</p>
<p><strong>Friktionskonstant - i rörelse:</strong></p>
<span class="math display">\[\begin{align}
  F_{friction} = \mu * F_{normal} \iff \mu = \frac{F_{friction}}{F_{normal}}
\end{align}\]</span>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell">us <span class="fu">=</span> <span class="fl">0.5</span>
uk <span class="fu">=</span> <span class="fl">0.4</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="kw">type</span> <span class="dt">FricConst</span> <span class="fu">=</span> <span class="dt">Double</span></code></pre></div>
<p>friktionen</p>
<p>friks = Fn * us, us = friktion statisk</p>
<p>frikk = Fn * uk, uk = friktion kinetisk</p>
<p>Vi har normalkraften, o beh bara konstanterna.</p>
<p>Speed har inget att göra med N för friktion? Dock gäller F*m = Nm = work = J = bugatti bränner däck.</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">motscalar ::</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Scalar</span>
motscalar u f <span class="fu">=</span> u <span class="fu">*</span> (magnitude f)</code></pre></div>
<p>Från en rörelse eller vekt, fixa komplementet</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">enh_vekt ::</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
enh_vekt v  <span class="fu">|</span> magnitude v <span class="fu">==</span> <span class="dv">0</span> <span class="fu">=</span> (<span class="dt">V2</span> <span class="dv">0</span> <span class="dv">0</span>)
            <span class="fu">|</span> otherwise <span class="fu">=</span> scale (<span class="dv">1</span> <span class="fu">/</span> (magnitude v)) v


<span class="ot">motkrafts ::</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Scalar</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
motkrafts u s v <span class="fu">=</span> scale (u <span class="fu">*</span> s) (negate (enh_vekt v))

<span class="ot">motkraftv ::</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
motkraftv u n v <span class="fu">=</span> scale (u <span class="fu">*</span> (magnitude n)) (negate (enh_vekt v))</code></pre></div>
<p>Nu ska vi bara summera</p>
<div class="sourceCode"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><span class="ot">fru ::</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
fru fa a u <span class="fu">=</span> (fr fa a) <span class="fu">+</span> (motkraftv u (fn fa a) (fr fa a))

<span class="ot">fru&#39; ::</span> <span class="dt">Vector2</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span>
fru&#39; fa a u <span class="fu">=</span> (motkraftv u (fn fa a) (fr fa a))</code></pre></div>
<p>Hmm om jag försöker skala riktningsvektorer till sin enhetsvektor så blir det blub med nollvektorn.</p>
<p>enh_vekt v = scale (1 / (magnitude v)) v $ enh_vekt (V2 0 0) (NaN x, NaN y)</p>
<p>Jag skulle anta att enh_vekt bara gäller då (magnitude v) =/= 0.</p>
<p>Fixed nollvektorn.</p>
<p><em>Main&gt; fru fg (pi/4) 0 (-5.0 x, 4.999999999999999 y) </em>Main&gt; fru fg (pi/4) 1 (1.7763568394002505e-15 x, -1.7763568394002505e-15 y) *Main&gt; fru fg (pi/4) 0.5 (-2.499999999999999 x, 2.4999999999999987 y) Ugh? Den är linjär? 1 i friktionskoeff = full stop. alltid?</p>
<p>När är isf motkraften = fallkraften? <em>Main&gt; fru fg 0 5 (0.0 x, 0.0 y) </em>Main&gt; fru fg 0 1 (0.0 x, 0.0 y) *Main&gt; fru fg (pi/2) 10 (-6.123233995736762e-16 x, 9.999999999999995 y)</p>
<p>Hmm?</p>
<p><em>Main&gt; fru fg (pi/6) 1 (3.169872981077808 x, -1.8301270189221936 y) </em>Main&gt; fru fg (pi/6) 0 (-4.330127018922193 x, 2.499999999999999 y) *Main&gt; fru fg (pi/6) 100000 (749995.6698729811 x, -433010.2018922193 y)</p>
<p>Den statiska friktionen är konstig. Den borde stå still vid låg vinkel o hög friktion.</p>
<p>Jag summerar ju visserligen krafterna, så det är nog något lurt med friktionshanteringen.</p>
<p>Tester:</p>
<p>fr <em>Main&gt; fr fg (pi/3) (-4.330127018922194 x, 7.499999999999999 y) </em>Main&gt; fr fg (pi/6) (-4.330127018922193 x, 2.499999999999999 y)</p>
<p>fru <em>Main&gt; fru fg (pi/3) 1 (-1.8301270189221928 x, 3.1698729810778055 y) </em>Main&gt; fru fg (pi/6) 1 (3.169872981077808 x, -1.8301270189221936 y)</p>
<p>fru' <em>Main&gt; fru' fg (pi/3) 1 (2.500000000000001 x, -4.330127018922194 y) </em>Main&gt; fru' fg (pi/6) 1 (7.500000000000001 x, -4.330127018922193 y</p>
<p>wtf händer? Hur kan fr ha samma x-vektor för två olika vinklar inom samma kvadrant?</p>
<p>fn</p>
<p><em>Main&gt; fn fg (pi/3) (-4.330127018922194 x, -2.500000000000001 y) </em>Main&gt; fn fg (pi/6) (-4.330127018922193 x, -7.500000000000001 y)</p>

    </main>

    <footer>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Examples/krafter_pa_lador.lhs">Examples/krafter_pa_lador.lhs</a>]</span>
        <span>Previous: <a href="../Examples/Gungbräda.html">Gungbräda</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../index.html">Table of contents</a></span>
      </nav>
      © Kandidatboisen (2018), GPL
    </footer>
  </body>
</html>
