<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Learn You a Physics for Great Good!</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  </head>

  <body>
    <header>
      <a href="../index.html"><h1>Learn You a <span class="physics">Physics</span> for Great Good!</h1></a>
      <h1>&gt;&gt;&gt; WORK IN PROGRESS &lt;&lt;&lt;</h1>
      <h2>Examples / Box on an incline</h2>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Examples/Box_incline.lhs">Examples/Box_incline.lhs</a>]</span>
        <span>Previous: <a href="../Examples/Teeter.html">Teeter</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../index.html">Table of contents</a></span>
      </nav>
    </header>

    <main>
      <h1 id="box-on-an-incline">Box on an incline</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">import</span> <span class="dt">Vector.Vector</span></a></code></pre></div>
<p>All vectors are in newton.</p>
<figure>
<img src="incline.png" alt="Incline" class="float-img-left" /><figcaption>Incline</figcaption>
</figure>
<div class="sourceCode" id="cb2"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" data-line-number="1">fg <span class="fu">=</span> <span class="dt">V2</span> <span class="dv">0</span> (<span class="fu">-</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">m <span class="fu">=</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">alpha <span class="fu">=</span> <span class="dv">30</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="ot">unit_normal ::</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">unit_normal a <span class="fu">=</span> <span class="dt">V2</span> (cos a) (sin a)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="ot">f_l_ ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">f_l_ fa a <span class="fu">=</span> scale ((magnitude fa) <span class="fu">*</span> (cos a)) (unit_normal (a<span class="fu">-</span>(pi<span class="fu">/</span><span class="dv">2</span>)))</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="ot">fn ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">fn fa a <span class="fu">=</span> negate (f_l_ fa a)</a></code></pre></div>
<p>Frictionfree incline:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="ot">fr ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">fr fa a <span class="fu">=</span> (fn fa a) <span class="fu">+</span> fa</a></code></pre></div>
<p>** Tests:** ————</p>
<p>*Main&gt; fr (V2 0 10) 0</p>
<p>(0.0 x, 0.0 y)</p>
<p>Good: No inclination - stands still.</p>
<p>*Main&gt; fr (V2 0 (-10)) 0</p>
<p>(0.0 x, -20.0 y)</p>
<p>Odd: Motsatt gravitation ger något underligt? Vi säger fortfarande att normalen är magnituden</p>
<p>*Main&gt; fr (V2 0 10) (pi/2)</p>
<p>(-6.123233995736766e-16 x, 10.0 y)</p>
<p>Good: 90* lutning - faller med G.</p>
<p>*Main&gt; fr (V2 0 10) (pi/3)</p>
<p>(-4.330127018922194 x, 7.499999999999999 y)</p>
<p>*Main&gt; fr (V2 0 10) (pi/4)</p>
<p>(-5.0 x, 4.999999999999999 y)</p>
<p>Good: 45* lutning - 5N både i x och y led. Pyth: 5^2 + 5^2 =/= 10^2</p>
<pre><code>                                                    det borde bli:  100 = a^2 + a^2
                                                                    50 = a^2
                                                                    5*sqrt(2) = a

                                                    och det är det ju. xD</code></pre>
<p>*Main&gt; fr (V2 0 10) (pi/6)</p>
<p>(-4.330127018922193 x, 2.499999999999999 y)</p>
<p><strong>Frictionconstant - in motion:</strong></p>
<span class="math display">\[\begin{align}
  F_{friction} = \mu * F_{normal} \iff \mu = \frac{F_{friction}}{F_{normal}}
\end{align}\]</span>
<div class="sourceCode" id="cb5"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" data-line-number="1">us <span class="fu">=</span> <span class="fl">0.5</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">uk <span class="fu">=</span> <span class="fl">0.4</span></a></code></pre></div>
<p>Add image how friction depends if there is movement.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">type</span> <span class="dt">FricConst</span> <span class="fu">=</span> <span class="dt">Double</span></a></code></pre></div>
<p>Friction:</p>
<p>friks = Fn * us, us = friction static</p>
<p>frikk = Fn * uk, uk = friction kinetic</p>
<p>We have the normal force and only needs the constants.</p>
<p>The current speed does not affect the friction. However F*M = Nm = work = J -&gt; racer cars burn tires.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="ot">motscalar ::</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Scalar</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">motscalar u f <span class="fu">=</span> u <span class="fu">*</span> (magnitude f)</a></code></pre></div>
<p>Från en rörelse eller vekt, fixa komplementet</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="ot">enh_vekt ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">enh_vekt v  <span class="fu">|</span> magnitude v <span class="fu">==</span> <span class="dv">0</span> <span class="fu">=</span> (<span class="dt">V2</span> <span class="dv">0</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">            <span class="fu">|</span> otherwise <span class="fu">=</span> scale (<span class="dv">1</span> <span class="fu">/</span> (magnitude v)) v</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="ot">motkrafts ::</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Scalar</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">motkrafts u s v <span class="fu">=</span> scale (u <span class="fu">*</span> s) (negate (enh_vekt v))</a>
<a class="sourceLine" id="cb8-8" data-line-number="8"></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="ot">motkraftv ::</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">motkraftv u n v <span class="fu">=</span> scale (u <span class="fu">*</span> (magnitude n)) (negate (enh_vekt v))</a></code></pre></div>
<p>Now we just need to sum the force vectors:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="ot">fru ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">fru fa a u <span class="fu">=</span> (fr fa a) <span class="fu">+</span> (motkraftv u (fn fa a) (fr fa a))</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="ot">fru&#39; ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5">fru&#39; fa a u <span class="fu">=</span> (motkraftv u (fn fa a) (fr fa a))</a></code></pre></div>
<p>Hmm om jag försöker skala riktningsvektorer till sin enhetsvektor så blir det blub med nollvektorn.</p>
<p>enh_vekt v = scale (1 / (magnitude v)) v $ enh_vekt (V2 0 0) (NaN x, NaN y)</p>
<p>Jag skulle anta att enh_vekt bara gäller då (magnitude v) =/= 0.</p>
<p>Fixed nollvektorn.</p>
<p><em>Main&gt; fru fg (pi/4) 0 (-5.0 x, 4.999999999999999 y) </em>Main&gt; fru fg (pi/4) 1 (1.7763568394002505e-15 x, -1.7763568394002505e-15 y) *Main&gt; fru fg (pi/4) 0.5 (-2.499999999999999 x, 2.4999999999999987 y) Ugh? Den är linjär? 1 i friktionskoeff = full stop. alltid?</p>
<p>När är isf motkraften = fallkraften? <em>Main&gt; fru fg 0 5 (0.0 x, 0.0 y) </em>Main&gt; fru fg 0 1 (0.0 x, 0.0 y) *Main&gt; fru fg (pi/2) 10 (-6.123233995736762e-16 x, 9.999999999999995 y)</p>
<p>Hmm?</p>
<p><em>Main&gt; fru fg (pi/6) 1 (3.169872981077808 x, -1.8301270189221936 y) </em>Main&gt; fru fg (pi/6) 0 (-4.330127018922193 x, 2.499999999999999 y) *Main&gt; fru fg (pi/6) 100000 (749995.6698729811 x, -433010.2018922193 y)</p>
<p>Den statiska friktionen är konstig. Den borde stå still vid låg vinkel o hög friktion.</p>
<p>Jag summerar ju visserligen krafterna, så det är nog något lurt med friktionshanteringen.</p>
<p>Tests:</p>
<p>fr <em>Main&gt; fr fg (pi/3) (-4.330127018922194 x, 7.499999999999999 y) </em>Main&gt; fr fg (pi/6) (-4.330127018922193 x, 2.499999999999999 y)</p>
<p>fru <em>Main&gt; fru fg (pi/3) 1 (-1.8301270189221928 x, 3.1698729810778055 y) </em>Main&gt; fru fg (pi/6) 1 (3.169872981077808 x, -1.8301270189221936 y)</p>
<p>fru’ <em>Main&gt; fru’ fg (pi/3) 1 (2.500000000000001 x, -4.330127018922194 y) </em>Main&gt; fru’ fg (pi/6) 1 (7.500000000000001 x, -4.330127018922193 y</p>
<p>wtf händer? Hur kan fr ha samma x-vektor för två olika vinklar inom samma kvadrant?</p>
<p>fn</p>
<p><em>Main&gt; fn fg (pi/3) (-4.330127018922194 x, -2.500000000000001 y) </em>Main&gt; fn fg (pi/6) (-4.330127018922193 x, -7.500000000000001 y)</p>

    </main>

    <footer>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Examples/Box_incline.lhs">Examples/Box_incline.lhs</a>]</span>
        <span>Previous: <a href="../Examples/Teeter.html">Teeter</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../index.html">Table of contents</a></span>
      </nav>
      © Björn Werner, Erik Sjöström, Johan Johansson, Oskar Lundström (2018), GPL
    </footer>
  </body>
</html>
