<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Learn You a Physics for Great Good!</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  </head>

  <body>
    <header>
      <a href="../index.html"><h1>Learn You a <span class="physics">Physics</span> for Great Good!</h1></a>
      <h1>&gt;&gt;&gt; WORK IN PROGRESS &lt;&lt;&lt;</h1>
      <h2>Examples / Box on an incline</h2>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Examples/Box_incline.lhs">Examples/Box_incline.lhs</a>]</span>
        <span>Previous: <a href="../Examples/Teeter.html">Teeter</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../index.html">Table of contents</a></span>
      </nav>
    </header>

    <main>
      <h1 id="box-on-an-incline">Box on an incline</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">import</span> <span class="dt">Vector.Vector</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">import</span> <span class="dt">Text.Printf</span></a></code></pre></div>
<p>A box with the mass 2kg is resting on an incline. The task is to determinate the resulting force given an angle of the incline.</p>
<p>When calculating with forces in this example we will use force vectors. This way we can add and subtract different forces together. We can also scale a force with a scalar.</p>
<p><img src="incline.png" class="float-img-left" /></p>
<p><span class="math display">\[ \dot g = gravitational\ acceleration \]</span></p>
<p><span class="math display">\[ m = mass\ of\ box \]</span></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="ot">g ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">g <span class="fu">=</span> <span class="dt">V2</span> <span class="dv">0</span> (<span class="fu">-</span><span class="dv">10</span>)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="ot">m ::</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">m <span class="fu">=</span> <span class="dv">2</span></a></code></pre></div>
<p>We scale the gravitational acceleration vector with the mass of the box to get a vector representing the gravitational force.</p>
<p><span class="math display">\[ \dot F_{g} = m \cdot \dot g \]</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="ot">fg ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">fg <span class="fu">=</span> scale m g </a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="ot">alpha ::</span> <span class="dt">Angle</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">alpha <span class="fu">=</span> pi<span class="fu">/</span><span class="dv">4</span></a></code></pre></div>
<p>A unit vector that we get from a radian <span class="math inline">\(a\)</span>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="ot">angle_to_unit_vec ::</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">angle_to_unit_vec angle <span class="fu">=</span> <span class="dt">V2</span> (cos angle) (sin angle)</a></code></pre></div>
<p>Force against the incline from the box we denote as <span class="math inline">\(\dot F_{\perp}\)</span>. Since the force is perpendicular against the incline of the surface, we need to create the unit vector for <span class="math inline">\(\dot F_{\perp}\)</span> by adding <span class="math inline">\(-(pi/2)\)</span> radians.</p>
<p>This vector we then scale up, with the magnitude of the gravitational force multiplied by <span class="math inline">\(cos(angle)\)</span>, which gives how much the gravitational force that affects <span class="math inline">\(\dot F_{\perp}\)</span>.</p>
<p>There are two edge cases. If the incline is flat, it means the incline has the angle 0, and <span class="math inline">\(cos(0) = 1\)</span>, which means <span class="math inline">\(\dot F_{g} = \dot F_{\perp}\)</span>. If the incline is fully tilted however <span class="math inline">\(\frac{\pi}{2}\)</span>, it means that <span class="math inline">\(cos(\frac{\pi}{2}) = 0\)</span> and the gravitational force on the box does not result in any force against the incline.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="ot">f_l_ ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">f_l_ fa angle <span class="fu">=</span> scale ((magnitude fa) <span class="fu">*</span> (cos angle)) (angle_to_unit_vec (angle<span class="fu">-</span>(pi<span class="fu">/</span><span class="dv">2</span>)))</a></code></pre></div>
<p>The normal force <span class="math inline">\(\dot F_{n} = - \dot F_{\perp}\)</span> supporting the box from the incline:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="ot">fn ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">fn fa angle <span class="fu">=</span> negate (f_l_ fa angle)</a></code></pre></div>
<p>The <span class="math inline">\(resulting\ force\ \dot F_{r}\)</span> is then the normal force from the incline plus the gravitational force. <span class="math display">\[ \dot F_{r} = \dot F_{n} + \dot F_{g} \]</span></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="ot">fr ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">fr fa angle <span class="fu">=</span> (fn fa angle) <span class="fu">+</span> fa</a></code></pre></div>
<p>We have now determined a way to get the resulting force from a given angle. Below we show how we can use it.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> fr fg (pi<span class="fu">/</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">(<span class="fu">-</span><span class="fl">10.000000000000002</span>, <span class="fu">-</span><span class="fl">10.0</span>)</a></code></pre></div>
<p>With the use of a rounding printer (defined last in this example) we can round the output.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fr fg (pi<span class="fu">/</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">(<span class="fu">-</span><span class="fl">10.00</span>,<span class="fu">-</span><span class="fl">10.00</span>) </a></code></pre></div>
<p>Here we can see, that <span class="math inline">\(\dot F_{r}\)</span> on the box is pointing down-left in the sense of a coordinate system. To know it’s magnitude, we can do:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb12-1" data-line-number="1">magnitude <span class="fu">$</span> fr fg (pi<span class="fu">/</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="fl">14.142135623730953</span></a></code></pre></div>
<p>Or with rounding:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb13-1" data-line-number="1">print_2dec <span class="fu">$</span> magnitude <span class="fu">$</span> fr fg (pi<span class="fu">/</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="fl">14.14</span></a></code></pre></div>
<h2 id="now-we-try-to-tackle-the-problem-with-friction">Now we try to tackle the problem with friction:</h2>
<p><span class="math display">\[  F_{friction} = \mu * F_{normal} \iff \mu = \frac{F_{friction}}{F_{normal}} \]</span></p>
<p>There are two different kinds of friction. One where the object is standing still on the surface, and the other where the object is sliding on the surface. In the case where the object is standing still, it remains still until the force applied on the object is greater than the maximum possible friction between the object and the surface. Once that level is surpassed, the object starts to slide.</p>
<p>When the object is sliding the maximum friction between the surface and the object is slightly less, as illustrated in the figure below.</p>
<p><img src="friction.png" class="float-img-left" /></p>
<p><span class="math display">\[ F_{static\ friction} = \mu_{static} \cdot F_{normal} \]</span> <span class="math display">\[ F_{kinetic\ friction} = \mu_{kinetic} \cdot F_{normal} \]</span></p>
<p>Given that we know if the box is already moving or not, we can chose the corresponding friction constant and calculate the friction force between the box and the incline. The direction of the friction force will then be in the opposite direction of the resulting force without friction, which we determined in the previous section.</p>
<p>We will use a type definition to clarify parameters.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">type</span> <span class="dt">FricConst</span> <span class="fu">=</span> <span class="dt">Double</span></a></code></pre></div>
<p>We will also need to use the unit vector of the resulting force from the previous section.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="ot">unit_vec ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">unit_vec v  <span class="fu">|</span> magnitude v <span class="fu">==</span> <span class="dv">0</span> <span class="fu">=</span> (<span class="dt">V2</span> <span class="dv">0</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">            <span class="fu">|</span> otherwise <span class="fu">=</span> scale (<span class="dv">1</span> <span class="fu">/</span> (magnitude v)) v</a></code></pre></div>
<h2 id="for-a-box-initally-at-rest">For a box initally at rest:</h2>
<p>We let this function compute the friction. If the magnitude of the friction is greater than the magnitude of the resulting force without friction, it means the box will stand still or that the magnitudes can be treated as equally big.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="ot">ff ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Scalar</span> <span class="ot">-&gt;</span> <span class="dt">Scalar</span> <span class="ot">-&gt;</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">ff fr magn_l_ magn_fr u <span class="fu">=</span> scale magn_fric (negate (unit_vec fr))</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">      <span class="kw">where</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4">          magn_fric   <span class="fu">|</span> magn_l_ <span class="fu">*</span> u <span class="fu">&gt;</span> magn_fr <span class="fu">=</span> magn_fr</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">                      <span class="fu">|</span> otherwise <span class="fu">=</span> magn_l_ <span class="fu">*</span> u</a></code></pre></div>
<p>Now we just need to add the friction vector to our old <span class="math inline">\(\dot F_{r}\)</span>. We call this function fru, from the constant <span class="math inline">\(\mu\)</span>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="ot">fru ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">Angle</span> <span class="ot">-&gt;</span> <span class="dt">FricConst</span> <span class="ot">-&gt;</span> <span class="dt">Vector2</span> <span class="dt">Double</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">fru fa a u <span class="fu">=</span> (fr fa a) <span class="fu">+</span> (ff (fr fa a) magn_l_ magn_fr u)  </a>
<a class="sourceLine" id="cb17-3" data-line-number="3">      <span class="kw">where</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">          magn_l_ <span class="fu">=</span> magnitude (f_l_ fa a)             </a>
<a class="sourceLine" id="cb17-5" data-line-number="5">          magn_fr <span class="fu">=</span> magnitude (fr fa a)</a></code></pre></div>
<p>Testing for <span class="math inline">\(u = 0\)</span>. In this case both “fr” and “fru” should give the same resulting vector:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fr fg (pi<span class="fu">/</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">(<span class="fu">-</span><span class="fl">8.66</span>,<span class="fu">-</span><span class="fl">15.00</span>)</a></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fru fg (pi<span class="fu">/</span><span class="dv">3</span>) <span class="dv">0</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">(<span class="fu">-</span><span class="fl">8.66</span>,<span class="fu">-</span><span class="fl">15.00</span>)</a></code></pre></div>
<p>They should also give the same if the incline is flat.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fr fg (<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">(<span class="fu">-</span><span class="fl">0.00</span>,<span class="fl">0.00</span>)</a></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fru fg (<span class="dv">0</span>) <span class="dv">1</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">(<span class="fu">-</span><span class="fl">0.00</span>,<span class="fl">0.00</span>)</a></code></pre></div>
<p>Lastly one should see the edge case where the angle is <span class="math inline">\(\frac{\pi}{4}\)</span>. The magnitude of the normal and the resulting force from the previous section becomes the same (try and control it!). This also means that if <span class="math inline">\(\mu_{static} = 1\)</span> the magnitude of the friction force becomes <span class="math inline">\(equal\)</span> to the magnitude of the resulting force without friction. The consequence of this will be that the friction force is just enough to prevent the box from sliding. If we increase the angle just a little, the box starts sliding.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fru fg (pi<span class="fu">/</span><span class="dv">4</span>) <span class="dv">1</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2">(<span class="fu">-</span><span class="fl">0.00</span>,<span class="fl">0.00</span>)</a></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="fu">*</span><span class="dt">Main</span><span class="fu">&gt;</span> print_vec_2dec <span class="fu">$</span> fru fg (<span class="fl">0.01</span> <span class="fu">+</span> pi<span class="fu">/</span><span class="dv">4</span>) <span class="dv">1</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">(<span class="fu">-</span><span class="fl">0.20</span>,<span class="fu">-</span><span class="fl">0.20</span>)</a></code></pre></div>
<p>In this case it may be beneficial to see more decimals, given that it should slide more downwards (down on the y-axis) than to the left (left on the x-axis).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb24-1" data-line-number="1">fru fg (<span class="fl">0.01</span> <span class="fu">+</span> pi<span class="fu">/</span><span class="dv">4</span>) <span class="dv">1</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2">(<span class="fu">-</span><span class="fl">0.197986733599107</span>, <span class="fu">-</span><span class="fl">0.201986600267551</span>)</a></code></pre></div>
<h2 id="friction-for-a-box-in-motion">Friction for a box in motion:</h2>
<p>This one is for you to solve. A box in motion is always affected by the friction (except for one particular edge case).</p>
<h2 id="pretty-printing">Pretty printing:</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="ot">print_2dec ::</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">print_2dec a <span class="fu">=</span> putStrLn <span class="fu">$</span> printf <span class="st">&quot;%.2f&quot;</span> a</a></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode literate haskell"><code class="sourceCode haskell"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="ot">print_vec_2dec ::</span> <span class="dt">Vector2</span> <span class="dt">Double</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">print_vec_2dec (<span class="dt">V2</span> a b) <span class="fu">=</span> putStrLn <span class="fu">$</span> <span class="st">&quot;(&quot;</span> <span class="fu">++</span> (printf <span class="st">&quot;%.2f&quot;</span> a) <span class="fu">++</span> <span class="st">&quot;,&quot;</span> <span class="fu">++</span> (printf <span class="st">&quot;%.2f&quot;</span> b) <span class="fu">++</span> <span class="st">&quot;)&quot;</span></a></code></pre></div>

    </main>

    <footer>
      <nav>
	<span>[src: <a href="https://github.com/DSLsofMath/BScProj2018/blob/master/Physics/src/Examples/Box_incline.lhs">Examples/Box_incline.lhs</a>]</span>
        <span>Previous: <a href="../Examples/Teeter.html">Teeter</a></span>
        <a href="../index.html">Table of contents</a>
        <span>Next: <a href="../index.html">Table of contents</a></span>
      </nav>
      © Björn Werner, Erik Sjöström, Johan Johansson, Oskar Lundström (2018), GPL
    </footer>
  </body>
</html>
